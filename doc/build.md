# Build Instructions

This project is a terminal-based QR code generator implemented entirely in NASM assembly. It employs CMake to facilitate consistent, cross-platform builds targeting both Linux and Windows environments.

## Clone the Repository

```bash
git clone https://github.com/anar-bastanov/qr-generator.git
cd qr-generator
```

## Prerequisites

### Linux

```bash
sudo apt install nasm gcc cmake ninja-build
```

### Windows

Ensure the following are installed and added to your `PATH`:

* [NASM](https://www.nasm.us/)
* GCC (via [MinGW-w64](https://www.mingw-w64.org/), MSYS2, or WSL)
* [CMake](https://cmake.org/download/)
* [Ninja](https://ninja-build.org/) (optional, but recommended)

> If you're using WSL, install the Linux prerequisites listed above inside your WSL environment.

## Directory Structure

```
nasm-qr-generator/
├── src/         # Source files (.nasm, .c, .cpp) and headers
├── lib/         # Shared or reusable modules
├── doc/         # Documentation, specifications, and build instructions
├── tools/       # Automation scripts
├── res/         # Assets and static data
└── build/       # Generated by CMake
```

## Building

From the root directory:

```bash
cmake -S . -B build -G Ninja  # Omit -G Ninja to use default generator
cmake --build build
```

This process compiles all `.nasm`, `.c`, and `.cpp` source files located in `src/` and `lib/`, and produces final executable to:

* `build/bin/qrgen` on Linux
* `build/bin/qrgen.exe` on Windows

## Running

After a successful build, launch the application via:

```bash
./build/bin/qrgen [arguments]      # Linux
.\build\bin\qrgen.exe [arguments]  # Windows
```

For convenience, you may use the provided scripts to configure, build, and run in one step:

```bash
chmod +x tools/run.sh            # Linux
./tools/run.sh [arguments]

.\tools\run.bat [arguments]      # Windows

python tools/run.py [arguments]  # Cross-platform
```

## Cleaning

To remove build artifacts:

```bash
cmake --build build --target clean
```

Alternatively, delete the build directory manually:

```bash
rm -rf build    # Linux
rd /s /q build  # Windows
```
